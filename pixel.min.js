// prettier-ignore
!function(){function t(t){const e="https://us-central1-visitorfit.cloudfunctions.net/handlePixelData",n=window.location.hostname;let i=document.createElement("script");i.async=!0,i.src=e+"?pid="+t,document.head.appendChild(i);function o(){return{pid:t,domain:n,path:window.location.pathname,referrer:document.referrer,userAgent:navigator.userAgent,timestamp:new Date().toISOString(),pageTitle:document.title}}fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o())}).then(t=>console.log("✅ Data sent")).catch(t=>console.error("❌ Error:",t));if(location.href.includes("test=true")){const t="Congratulations!\n\nYou have successfully installed the pixel.\nYou can close this tab.";window.alert(t)}}let e=document.currentScript,n=e?.dataset?.pid;n?t(n):e&&(n=new URL(e.src).searchParams.get("pid"),n)?(console.log("> debug: using pid from query",n),t(n)):document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("pixel-js"),n=e?.dataset?.pid;n&&(console.log("> debug: using pid from backup",n),t(n))})}();
